'use strict';

var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }

var WidgetRss = (function () {
	function WidgetRss(box) {
		_classCallCheck(this, WidgetRss);

		this.box = box;
		var head = document.getElementsByTagName('head')[0];
		var script = document.createElement('script');
		script.type = 'text/javascript';
		script.onload = function () {};
		script.src = 'http://www.jornalismoemfluxo.com/tudo?format=json&callback=wr.parse';
		head.appendChild(script);
	}

	_createClass(WidgetRss, [{
		key: 'parse',
		value: function parse(data) {
			this.data = data;
			this.display(this.box);
		}
	}, {
		key: 'display',
		value: function display(box) {
			var article = {
				title: 'Hello Template Literals',
				teaser: 'String interpolation is awesome. Here are some features',
				body: 'Lots and lots of sanitized HTML',
				tags: ['es6', 'template-literals', 'es6-in-depth']
			};
			var title = article.title;
			var teaser = article.teaser;
			var body = article.body;
			var tags = article.tags;
			var url = article.url;

			var html = '<article>\n\t\t\t<header>\n\t\t\t\t<h1>' + title + '</h1>\n\t\t\t</header>\n\t\t\t<section>\n\t\t\t\t<div>' + teaser + '</div>\n\t\t\t\t<div>' + body + '</div>\n\t\t\t</section>\n\t\t\t<footer>\n\t\t\t\t<ul>\n\t\t\t\t' + tags.map(function (tag) {
				return '<li>' + tag + '</li>';
			}).join('\n      ') + '\n\t\t\t\t</ul>\n\t\t\t</footer>\n\t\t</article>';

			box.insertAdjacentHTML("beforebegin", html);
			console.log(this.data);
		}
	}]);

	return WidgetRss;
})();

var wr = new WidgetRss(document.body);
